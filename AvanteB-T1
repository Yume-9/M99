#include <AFMotor.h>
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

AF_DCMotor motorE(3);
AF_DCMotor motorD(4);

LiquidCrystal_I2C lcd(0x27,16,2);

#define SentinelaD 53 // Direito
#define SentinelaE 52 // Esquerdo

int velocidadeNormal = 175;      
int curvaFrente = 225;    
int curvaTras = 165;     

void setup() {
  pinMode(SentinelaE, INPUT);
  pinMode(SentinelaD, INPUT);

  motorE.setSpeed(velocidadeNormal);
  motorD.setSpeed(velocidadeNormal);

  lcd.init();
  lcd.backlight();
  lcd.setCursor(0,0);
  lcd.print("   O robo esta");
  lcd.setCursor(0,1);
  lcd.print("      pronto");
}

void loop() {
  bool pretoE = digitalRead(SentinelaE); // HIGH = preto
  bool pretoD = digitalRead(SentinelaD);

  if (!pretoE && !pretoD) {
    // Marche
    motorE.setSpeed(velocidadeNormal);
    motorD.setSpeed(velocidadeNormal);
    motorE.run(FORWARD);
    motorD.run(FORWARD);
  } 
  else if (pretoE && !pretoD) {
    // Direita Volver
    motorE.setSpeed(curvaTras);      
    motorD.setSpeed(curvaFrente);    
    motorE.run(BACKWARD);
    motorD.run(FORWARD);
  } 
  else if (!pretoE && pretoD) {
    // Esquerda Volver
    motorE.setSpeed(curvaFrente);    
    motorD.setSpeed(curvaTras);     
    motorE.run(FORWARD);
    motorD.run(BACKWARD);
  } 
  else if (pretoE && pretoD) {
    // Em dire√ßao ao infinito
    motorE.setSpeed(velocidadeNormal);
    motorD.setSpeed(velocidadeNormal);
    motorE.run(FORWARD);
    motorD.run(FORWARD);
  }
}
